# Expo Fitness Test App - Development Guide

## Project Overview
A React Native fitness tracking app built with Expo, optimized for personal use with AI-powered workout generation and seamless workout tracking.

## Tech Stack
- **Frontend**: React Native with Expo SDK 50+, TypeScript
- **Navigation**: React Navigation (Tab + Stack)
- **State**: React Context + Hooks, React Query, Zustand
- **UI**: React Native Paper (iOS-adapted Material Design)
- **Database**: SQLite via Expo SQLite (local-first)
- **AI**: OpenAI API for workout generation

## Project Structure
```
src/
├── components/          # Reusable UI components
│   ├── common/         # Generic components (Button, Input, etc.)
│   ├── workout/        # Workout-specific components
│   └── exercise/       # Exercise-specific components
├── screens/            # Screen components
├── navigation/         # Navigation configuration
├── hooks/             # Custom React hooks
├── services/          # API services and data layer
├── utils/             # Utility functions
├── types/             # TypeScript type definitions
└── constants/         # App constants
```

## Development Commands
```bash
# Start development server
npm run start

# Run on iOS simulator
npm run ios

# Run on Android emulator
npm run android

# Type checking
npm run typecheck

# Linting
npm run lint

# Testing
npm run test

# Build for production
npm run build
```

## Key Features Implementation Priority

### Phase 1: Foundation (Weeks 1-2)
1. Project setup with Expo CLI and TypeScript
2. SQLite database setup with core data models
3. Basic navigation structure (Tab + Stack)

### Phase 2: Core Tracking (Weeks 3-4)
1. Exercise database and management
2. Basic workout logging (sets, reps, weight)
3. Workout history and persistence

### Phase 3: Enhanced Features (Weeks 5-6)
1. Rest timer with notifications
2. Workout templates system
3. Set tracking variations (warmup, dropset, etc.)

### Phase 4: Progress & Analytics (Weeks 7-8)
1. Personal records tracking
2. Progress charts and analytics
3. Workout statistics and comparisons

### Phase 5: AI Integration (Weeks 9-10)
1. OpenAI API integration
2. Conversational workout generation
3. Context-aware AI recommendations

### Phase 6: Polish (Weeks 11-12)
1. iOS-style UI/UX implementation
2. Performance optimization
3. Comprehensive testing

## Database Schema
Single-user optimized schema (no user authentication):

### Core Tables
- `exercises` - Exercise library with muscle groups and equipment
- `workout_templates` - Reusable workout routines
- `workouts` - Completed workout sessions
- `workout_sets` - Individual set performance data
- `personal_records` - Best performance tracking
- `ai_conversations` - Chat history for workout generation

### Key Relationships
```sql
-- Exercises used in templates and workouts
exercises (1) ←→ (N) template_exercises
exercises (1) ←→ (N) workout_sets

-- Templates create workouts
workout_templates (1) ←→ (N) workouts

-- Workouts contain sets
workouts (1) ←→ (N) workout_sets
```

## Personal Use Optimizations

### Smart Defaults
- Auto-populate previous weights/reps when adding exercises
- Suggest next logical weight progression
- Default rest timers based on exercise type
- Pre-select frequently used exercises

### Speed Optimizations
- Recent exercises widget (top 5 always visible)
- One-tap exercise addition for common movements
- Gesture-based set completion (tap and hold, swipe)
- Voice commands for hands-free operation

### Equipment Integration
Default equipment list: dumbbells, barbell, bench, cables
- Exercise filtering by available equipment
- Equipment-specific workout suggestions
- Quick equipment-based exercise swaps

## AI Workout Generation

### Conversation Flow
1. User states workout preferences (time, equipment, focus)
2. AI asks clarifying questions about experience and limitations
3. AI generates customized workout with explanations
4. User can request modifications during workout
5. Completed workouts can be saved as templates

### AI Features
- Equipment-based exercise substitution
- Real-time workout adjustments
- Educational explanations for exercise selection
- Progressive overload recommendations
- Context-aware conversation memory

## UI/UX Guidelines

### Design System
- iOS Human Interface Guidelines compliance
- San Francisco font family
- iOS system colors (Primary: #007AFF)
- 8pt grid system with 16pt margins
- Generous whitespace and clean hierarchy

### Navigation
Tab Bar: Workouts | Exercises | History
- Height: 83pt
- SF Symbols icons at 24pt
- Active state: Primary blue tint

### Components
- Primary buttons: 50pt height, 12pt corner radius
- Cards: 16pt corner radius with subtle shadow
- List items: 60pt minimum height
- Touch targets: 44pt minimum (60pt during workouts)

## Development Best Practices

### Code Quality
- TypeScript strict mode enabled
- ESLint with Airbnb configuration
- Prettier for consistent formatting
- Comprehensive unit and integration tests
- Repository pattern for data access

### Performance
- <3 second app start time
- 60 FPS animations and scrolling
- <150MB memory usage
- Offline-first functionality

### AI-Friendly Architecture
- Self-documenting code with AI guidance comments
- Modular component structure
- Standardized hooks and patterns
- Feature flags for safe AI development
- Automated testing for AI-generated code

## Error Handling
- Comprehensive offline functionality
- Auto-save during workouts
- Graceful AI service degradation
- Data validation and constraints
- Recovery from interrupted workouts

## Testing Strategy
```bash
# Unit tests
npm run test:unit

# Integration tests
npm run test:integration

# E2E tests
npm run test:e2e

# Test coverage
npm run test:coverage
```

## Deployment
- EAS Build for production builds
- TestFlight for beta testing
- Over-the-air updates with Expo Updates
- App Store compliance and submission

## API Keys & Environment
```bash
# Environment variables needed:
OPENAI_API_KEY=your_openai_key_here
EXPO_PUBLIC_API_URL=your_api_url_if_needed
```

## Performance Targets
- Cold start: <3 seconds
- Navigation: <300ms between screens
- Database queries: <100ms for local data
- AI responses: <10 seconds for workout generation
- Memory usage: <150MB average
- App Store rating: >4.3 stars target

This is a personal fitness tracking app optimized for single-user use with AI-powered workout generation, focusing on maximum workout efficiency and seamless user experience.